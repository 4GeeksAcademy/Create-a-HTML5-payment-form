<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment Form</title>
    <!--Bootstrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-9 mx-auto my-5 bg-white border p-0">
          <!--header-->
          <div class="container-fluid bg-light border mb-3 p-3">
            <h1 class="text-center">Payment Form</h1>
          </div>
          <!--form-->
          <form action="" method="get" id="paymentForm">
            <div class="alert alert-danger mx-4" id="fieldsMissingDiv">
              Some fields are missing
            </div>
            <!--1st row-->
            <div class="mx-3 mb-3 row">
              <div class="col-5">
                <label for="card" class="form-label">Card #</label>
                <input
                  type="text"
                  class="form-control"
                  id="card"
                  aria-describedby="cardHelp"
                  placeholder="XXXXXXXXXXXXXXXX"
                  pattern="[0-9]+"
                  title="Please enter only numbers."
                  oninvalid="this.setCustomValidity('Please enter only numbers.')"
                  oninput="this.setCustomValidity('')"
                  oninput="validateInput(this, 'cvc')"
                  required
                />
              </div>
              <div class="col-3">
                <label for="cvc" class="form-label">CVC #</label>
                <input
                  type="text"
                  class="form-control"
                  id="cvc"
                  aria-describedby="cvcHelp"
                  placeholder="XXX"
                  title="Please enter the 3 CVC numbers (look behind your card)"
                  pattern="[0-9]{3}"
                  oninvalid="this.setCustomValidity('Please enter only 3 numbers.')"
                  oninput="this.setCustomValidity('')"
                  oninput="validateInput(this, 'amount')"
                  required
                />
              </div>
              <div class="col-4">
                <label for="amount" class="form-label">Amount </label>
                <div class="d-flex gap-3">
                  <div class="input-group">
                    <span class="input-group-text">$</span>
                    <input
                      type="text"
                      class="form-control"
                      id="amount"
                      pattern="[0-9]+"
                      aria-describedby="amountHelp"
                      title="Please tell us the amount you want to pay (max.100.000)"
                      oninvalid="this.setCustomValidity('Please enter only numbers.')"
                      oninput="this.setCustomValidity('')"
                      oninput="validateInput(this, 'name')"
                      required
                    />
                  </div>
                </div>
              </div>
            </div>

            <!--2nd row-->
            <div class="mx-3 mb-3 row">
              <div class="col-6">
                <label for="name" class="form-label">First Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  aria-describedby="nameHelp"
                  title="Please enter your name."
                  pattern="[A-Za-z]+"
                  oninvalid="this.setCustomValidity('Please enter only letters.')"
                  oninput="this.setCustomValidity('')"
                  oninput="validateInput(this, 'surname')"
                  required
                />
              </div>
              <div class="col-6">
                <label for="surname" class="form-label">Surname</label>
                <input
                  type="text"
                  class="form-control"
                  id="surname"
                  aria-describedby="surnameHelp"
                  title="Please enter your surname"
                  required
                  pattern="[A-Za-z]+"
                  oninvalid="this.setCustomValidity('Please enter only letters.')"
                  oninput="this.setCustomValidity('')"
                  oninput="validateInput(this, 'city')"
                />
              </div>
            </div>
            <!--3rd row-->
            <div class="mx-3 mb-3 row">
              <div class="col-6">
                <label for="city" class="form-label">City</label>
                <input
                  type="text"
                  class="form-control"
                  id="city"
                  aria-describedby="cityHelp"
                  title="Please enter your city."
                  pattern="[A-Za-z]+"
                  oninvalid="this.setCustomValidity('Please enter only letters.')"
                  oninput="this.setCustomValidity('')"
                  oninput="validateInput(this, 'state')"
                  required
                />
              </div>
              <div class="col-3">
                <label for="state" class="form-label">State</label>
                <select
                  id="state"
                  name="state multiple"
                  required
                  class="form-select"
                >
                  <option value="">Pick a state</option>
                  <option value="AL">Alabama</option>
                  <option value="AK">Alaska</option>
                  <option value="AZ">Arizona</option>
                  <option value="AR">Arkansas</option>
                  <option value="CA">California</option>
                  <option value="CO">Colorado</option>
                  <option value="CT">Connecticut</option>
                  <option value="DE">Delaware</option>
                  <option value="DC">District Of Columbia</option>
                  <option value="FL">Florida</option>
                  <option value="GA">Georgia</option>
                  <option value="HI">Hawaii</option>
                  <option value="ID">Idaho</option>
                  <option value="IL">Illinois</option>
                  <option value="IN">Indiana</option>
                  <option value="IA">Iowa</option>
                  <option value="KS">Kansas</option>
                  <option value="KY">Kentucky</option>
                  <option value="LA">Louisiana</option>
                  <option value="ME">Maine</option>
                  <option value="MD">Maryland</option>
                  <option value="MA">Massachusetts</option>
                  <option value="MI">Michigan</option>
                  <option value="MN">Minnesota</option>
                  <option value="MS">Mississippi</option>
                  <option value="MO">Missouri</option>
                  <option value="MT">Montana</option>
                  <option value="NE">Nebraska</option>
                  <option value="NV">Nevada</option>
                  <option value="NH">New Hampshire</option>
                  <option value="NJ">New Jersey</option>
                  <option value="NM">New Mexico</option>
                  <option value="NY">New York</option>
                  <option value="NC">North Carolina</option>
                  <option value="ND">North Dakota</option>
                  <option value="OH">Ohio</option>
                  <option value="OK">Oklahoma</option>
                  <option value="OR">Oregon</option>
                  <option value="PA">Pennsylvania</option>
                  <option value="RI">Rhode Island</option>
                  <option value="SC">South Carolina</option>
                  <option value="SD">South Dakota</option>
                  <option value="TN">Tennessee</option>
                  <option value="TX">Texas</option>
                  <option value="UT">Utah</option>
                  <option value="VT">Vermont</option>
                  <option value="VA">Virginia</option>
                  <option value="WA">Washington</option>
                  <option value="WV">West Virginia</option>
                  <option value="WI">Wisconsin</option>
                  <option value="WY">Wyoming</option>
                </select>
              </div>
              <div class="col-3">
                <label for="postal" class="form-label">Postal Code</label>
                <div class="d-flex gap-3">
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      id="postal"
                      aria-describedby="postalHelp"
                      title="Please tell us your postal code"
                      pattern="[0-9]+"
                      oninvalid="this.setCustomValidity('Please enter only numbers.')"
                      oninput="this.setCustomValidity('')"
                      oninput="validateInput(this, 'visa')"
                      required
                    />
                  </div>
                </div>
              </div>
            </div>
            <!--4th row-->
            <div class="row mx-3 mb-4">
              <div class="col-6">
                <label for="paymentType" class="form-label">We accept</label>
                <div>
                  <div class="bg-secondary p-2 rounded" style="width: 400px">
                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="payingmethods"
                        id="visa"
                        value="visa"
                      />
                      <label class="form-check-label" for="visa"
                        ><img
                          src="media/visa.png"
                          alt="visa"
                          height="40px"
                          width="50px"
                      /></label>
                    </div>

                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="payingmethods"
                        id="mastercard"
                        value="mastercard"
                      />
                      <label class="form-check-label" for="mastercard"
                        ><img
                          src="media/mastercard.png"
                          alt="mastercard"
                          height="40px"
                          width="50px"
                      /></label>
                    </div>

                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="payingmethods"
                        id="discover"
                        value="discover"
                      />
                      <label class="form-check-label" for="discover"
                        ><img
                          src="media/discover.png"
                          alt="discover"
                          height="40px"
                          width="50px"
                      /></label>
                    </div>

                    <div class="form-check form-check-inline">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="payingmethods"
                        id="americanexpress"
                        value="americanexpress"
                      />
                      <label class="form-check-label" for="americanexpress"
                        ><img
                          src="media/americanexpress.png"
                          alt="americanexpress"
                          height="40px"
                          width="50px"
                      /></label>
                    </div>
                  </div>
                </div>
                <div class="col-6" id="message"></div>
              </div>
              <div class="col-6">
                <label for="message" class="form-label"> Message</label>
                <textarea
                  rows="3"
                  type="text"
                  class="form-control"
                  id="message"
                  aria-describedby="messageHelp"
                  oninvalid="this.setCustomValidity('Please write some comments.')"
                  oninput="this.setCustomValidity('')"
                  required
                ></textarea>
                <div id="messageHelp" class="form-text">
                  Add any notes here.
                </div>
              </div>
            </div>
            <!--buttons-->
            <div class="d-flex justify-content-end border p-3 bg-light gap-3">
              <button class="btn btn-secondary">Cancel</button>
              <button type="submit" class="btn btn-primary">Send</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script>
      //JS to show the alternative requirements in English I set,
      //and when the input is correctly filled, to pass to the next field:
      function validateInput(input, nextInputId) {
        if (input.validity.valid) {
          document.getElementById(nextInputId).focus();
        }
      }

      //JS to prevent the form from being sent unless one of
      //the radio options is selected:
      document
        .getElementById("paymentForm")
        .addEventListener("submit", (event) => {
          const radioOptions = document.getElementsByName("payingmethods");
          const isChecked = Array.from(radioOptions).some(
            (option) => option.checked
          );

          if (!isChecked) {
            event.preventDefault(); // Prevent form submission
            // alert("Please select a payment option before submitting the form.");
            const messageDiv = document.getElementById("message");
            messageDiv.textContent =
              "Please select a payment option before submitting the form.";
            messageDiv.style.color = "red";
          }
        });
        
      //JS to make the red message disappear and remove the 'some fields are missing' too:
      document
        .getElementById("paymentForm")
        .addEventListener("change", (event) => {
          const radioOptions = document.getElementsByName("payingmethods");
          const isChecked = Array.from(radioOptions).some(
            (option) => option.checked
          );

          if (isChecked) {
            const messageDiv = document.getElementById("message");
            messageDiv.textContent = "";
            const missingDiv = document.getElementById("fieldsMissingDiv");
            missingDiv.style.display = "none";
          }
        });
    </script>
  </body>
</html>
